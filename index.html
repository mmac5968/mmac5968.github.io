<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>文案提取神器</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#722ed1">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  min-height:100dvh;
  color:#fff;
  overflow-x:hidden;
  padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}
header{
  text-align:center;
  padding:30px 20px 10px;
}
.logo{
  font-size:44px;
  font-weight:900;
  background:linear-gradient(120deg,#ffd700,#ff6b6b,#e13ea5,#722ed1);
  background-size:300%;
  -webkit-background-clip:text;
  background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:flow 8s ease infinite;
  text-shadow:0 4px 20px rgba(114,46,209,0.4);
}
@keyframes flow{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
.subtitle{
  font-size:15px;
  opacity:0.9;
  margin-top:8px;
  letter-spacing:1px;
}
.container{
  max-width:700px;
  margin:0 auto;
  padding:0 16px;
}
.card{
  background:rgba(255,255,255,0.18);
  backdrop-filter:blur(20px);
  -webkit-backdrop-filter:blur(20px);
  border-radius:32px;
  border:1px solid rgba(255,255,255,0.2);
  box-shadow:0 20px 50px rgba(0,0,0,0.25);
  overflow:hidden;
  margin-bottom:20px;
}
#input{
  width:100%;
  min-height:200px;
  padding:24px;
  background:transparent;
  border:none;
  color:#fff;
  font-size:17.5px;
  line-height:1.9;
  outline:none;
  resize:none;
}
#input::placeholder{color:rgba(255,255,255,0.7);}
.tools{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:12px;
  padding:20px;
  background:rgba(255,255,255,0.08);
}
.btn{
  padding:16px 20px;
  border-radius:50px;
  font-weight:700;
  font-size:15px;
  border:none;
  cursor:pointer;
  transition:all .3s cubic-bezier(0.34,1.56,0.64,1);
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
  backdrop-filter:blur(10px);
  position:relative;
  overflow:hidden;
}
.btn::before{
  content:"";
  position:absolute;
  top:0;left:-100%;
  width:100%;
  height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);
  transition:all .6s;
}
.btn:hover::before{left:100%;}
.btn:active{transform:scale(0.94);}
.btn-primary{background:linear-gradient(135deg,#722ed1,#9c57ff);color:white;}
.btn-gradient{background:linear-gradient(135deg,#ff6b6b,#e13ea5);color:white;}
.btn-success{background:linear-gradient(135deg,#00c07f,#00a376);color:white;}
.btn-warn{background:linear-gradient(135deg,#ff4757,#ff3742);color:white;}
#result{
  padding:28px 24px;
  line-height:2.1;
  font-size:18px;
  min-height:160px;
}
#result:empty::before{
  content:"复制任意文案 → 自动秒变纯净文字";
  color:rgba(255,255,255,0.7);
  display:block;
  text-align:center;
  padding:50px 20px;
}
.counter{
  text-align:center;
  padding:20px;
  font-size:15px;
  background:rgba(255,255,255,0.1);
  border-radius:30px;
  backdrop-filter:blur(10px);
}
#toast{
  position:fixed;
  bottom:100px;
  left:50%;
  transform:translateX(-50%) scale(0.8);
  background:rgba(0,0,0,0.85);
  color:white;
  padding:16px 40px;
  border-radius:50px;
  font-weight:600;
  font-size:16px;
  box-shadow:0 20px 40px rgba(0,0,0,0.4);
  backdrop-filter:blur(20px);
  z-index:9999;
  transition:all .5s cubic-bezier(0.34,1.56,0.64,1);
  opacity:0;
  pointer-events:none;
}
#toast.show{
  transform:translateX(-50%) translateY(-20px) scale(1);
  opacity:1;
}
footer{
  text-align:center;
  padding:30px 0 20px;
  font-size:13px;
  opacity:0.7;
}
</style>
</head>
<body>
<header>
  <div class="logo">文案提取神器</div>
  <div class="subtitle">复制即自动清理 · 永不翻车</div>
</header>

<div class="container">
  <div class="card">
    <textarea id="input" placeholder="复制任意平台文案，这里自动出现"></textarea>
    <div class="tools">
      <button class="btn btn-primary" id="btn-clean">一键清理并复制</button>
      <button class="btn btn-gradient" id="btn-memo">保存备忘录</button>
      <button class="btn btn-success" id="btn-copy-raw">复制原文</button>
      <button class="btn btn-warn" id="btn-clear">清空</button>
    </div>
  </div>

  <div class="card">
    <div id="result"></div>
    <div class="tools">
      <button class="btn btn-success" id="btn-select">全选结果</button>
      <button class="btn btn-gradient" id="btn-copy-result">复制结果</button>
      <button class="btn btn-primary" id="btn-wechat">转微信风格</button>
      <button class="btn btn-warn" id="btn-xhs">转小红书风格</button>
    </div>
  </div>

  <div class="counter">
    已自动清理 <span id="count">0</span> 次 · 节省约 <span id="saved">0</span> 分钟
  </div>
</div>

<div id="toast">自动清理完成，已复制纯净文案！</div>
<footer>建议添加到主屏幕 · 体验完胜原生App</footer>

<script>
// 永不翻车核弹级清理函数（2025-2026全平台无敌）
function cleanText(t){return t
.replace(/[\u200B-\u206F\uFEFF\u00A0\u1680\u180E\u202F\u205F\u3000\u3164\uFFA0]/g," ")
.replace(/\b\d{1,4}\.\d{1,3}\s+[A-Za-z]{2,8}:?\/?\s*\d{1,2}\/\d{1,2}\s+[A-Za-z@\.]{3,12}\b/gi,"")
.replace(/\b\d{1,6}[A-Za-z]{1,8}\b|\b[A-Za-z]{2,12}\d+[A-Za-z]?\b/g,"")
.replace(/\d{2,4}[\/\-\.\年\月\日]\d{1,2}([\/\-\.\月\日]\d{1,2})?/g,"")
.replace(/https?:\/\/[^\s\u4e00-\u9fa5]+|www\.[^\s]+|[a-zA-Z0-9\-_]+\.(com|cn|net|org|top|vip|xyz|ink|live|site|app|tv|me|cc|gg|tk|gq|cf|icu|link|page|shop|store|club|fun|pro|max)[^\s]*/gi,"")
.replace(/[抖快手抖音Dou音小红书红书书B站哔哩哔哩微博微视西瓜视频号公号公眾號InstagramReelsTikTokYouTubeShorts]/gi,"")
.replace(/#[^#\s\u200B-\u206F\uFEFF]*|＃[^＃\s\u200B-\u206F\uFEFF]*|\s+#\s*|\s+#|#\s+|#\s*[^#\s]*/g,"")
.replace(/[@＠][^\s@\u200B-\u206F\uFEFF]+/g,"")
.replace(/[“”]/g,'"').replace(/[‘’]/g,"'")
.replace(/复制.?[此这].{0,6}链接?.{0,6}打.?开.?[抖Dou抖音].{0,6}搜.{0,6}直.?接.?观.?看.?视.?频.?！?|复制.?[这这].{0,6}信.?息.?打.?开.?[抖Dou].{0,6}看.?我.?发.?现.?的.?好.?东.?西.?|长.?按.?识.?别.?二.?维.?码.?关.?注.?我|点.?击.?链.?接.?直.?达.?原.?视.?频|来.?源.?[:：].{0,30}|——.{0,30}(抖音|小红书|快手).{0,20}/gi,"")
.replace(/[\u{1F300}-\u{1F9FF}\u{2600}-\u{27BF}\u{1F600}-\u{1F64F}]/gu,"")
.replace(/[═━─—┉┋┃┇╍╎╏┊┆┅┄┈┉╌╱╲╳╭╮╰╯╔╗╚╝│¦║〰~∼∽]{2,}|[~\*\-\=\+\.\•·➕▶▫▪▌▋▎▏◆■▪︎▫︎◼◾◻▫]{4,}/g,"")
.replace(/[ \u3000\t\r\v\f]+/g," ").replace(/\n\s*\n+/g,"\n\n")
.replace(/^\s+|\s+$/g,"").replace(/\n{3,}/g,"\n\n").trim()}

const i=document.getElementById("input"),r=document.getElementById("result"),t=document.getElementById("toast"),
c=document.getElementById("count"),s=document.getElementById("saved");
let n=localStorage.getItem("c")||0,m=localStorage.getItem("t")||0;
c.textContent=n;s.textContent=Math.floor(m/60);

function u(){r.textContent=cleanText(i.value)||""}
function p(msg,time=2500){t.textContent=msg;t.classList.add("show");clearTimeout(t.timer);t.timer=setTimeout(()=>t.classList.remove("show"),time)}
function a(){n++;m+=8;localStorage.setItem("c",n);localStorage.setItem("t",m);c.textContent=n;s.textContent=Math.floor(m/60)}

// 自动粘贴+自动复制
let last="";
async function magic(){
  try{
    const txt=await navigator.clipboard.readText();
    if(!txt||txt.trim()===last||txt.trim()===i.value.trim())return;
    last=txt.trim();i.value=txt.trim();u();
    const clean=r.textContent.trim();
    if(clean&&clean.length>10){
      await navigator.clipboard.writeText(clean);
      p("自动清理完成，已复制纯净文案！");
      a();
    }
  }catch{}}setInterval(magic,800);

// 按钮
document.getElementById("btn-clean").onclick=async()=>{u();const x=r.textContent.trim();if(!x)return p("没有内容");await navigator.clipboard.writeText(x);p("已复制纯净文案");a();p("自动模式已激活！以后复制即自动",3000);};
document.getElementById("btn-memo").onclick=()=>{const x=r.textContent.trim();if(!x)return p("请先清理");navigator.share?navigator.share({title:"干净文案",text:x}).catch(()=>fallback(x)):fallback(x);function fallback(x){navigator.clipboard.writeText(x).then(()=>p("已复制，去备忘录粘贴"))};};
document.getElementById("btn-copy-raw").onclick=()=>{i.value.trim()?navigator.clipboard.writeText(i.value).then(()=>p("已复制原文")):p("原文为空");};
document.getElementById("btn-clear").onclick=()=>{i.value=r.textContent="";p("已清空");};
document.getElementById("btn-select").onclick=()=>{if(!r.textContent)return p("无内容");const rg=document.createRange();rg.selectNodeContents(r);const sel=window.getSelection();sel.removeAllRanges();sel.addRange(rg);p("已全选");};
document.getElementById("btn-copy-result").onclick=()=>{const x=r.textContent.trim();x?navigator.clipboard.writeText(x).then(()=>p("结果已复制")):p("结果为空");};
document.getElementById("btn-wechat").onclick=()=>{let x=r.textContent.trim();if(!x)return p("请先清理");x=x.replace(/^/gm,"　　").replace(/\n/g,"\n\n")+"\n——\n"+["愿你此生温柔而坚定","慢慢来，比较快","生活明朗，万物可爱","我们终会上岸，阳光万里"][Math.random()*4|0];r.textContent=x;p("已转为微信朋友圈风格");};
document.getElementById("btn-xhs").onclick=()=>{let x=r.textContent.trim();if(!x)return p("请先清理");x="✨ "+x+"\n\n"+["这也太治愈了吧～","救命！这也太懂我了吧！","突然get到了生活的意义","原来生活可以这么美好啊"][Math.random()*4|0]+"\n——\n分享自@文案提取神器";r.textContent=x;p("已转为小红书爆款风格");};

// 自适应高度
i.addEventListener("input",()=>{u();i.style.height="auto";i.style.height=i.scrollHeight+"px";});

// 首次引导
window.onload=()=>{if(!localStorage.getItem("c"))p("首次使用请点一次「一键清理」激活自动模式",4000);};
</script>
</body>
</html>