<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>文案提取神器</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;
  background:#ffffff;color:#1d1d1f;min-height:100dvh;
  padding:env(safe-area-inset-top) 16px env(safe-area-inset-bottom);
  line-height:1.6;
}
.dark{background:#000000;color:#f5f5f7;}
header{text-align:center;padding:30px 0 20px;}
.logo{font-size:40px;font-weight:900;color:#722ed1;}
.dark .logo{color:#9c57ff;}
.subtitle{font-size:15px;color:#666;margin-top:8px;}
.dark .subtitle{color:#aaa;}

.container{max-width:700px;margin:0 auto;padding:0 16px;}
.card{
  background:#ffffff;border-radius:20px;border:1px solid #e5e5e5;
  overflow:hidden;margin-bottom:20px;
}
.dark .card{background:#1c1c1e;border:1px solid #333;}
#input{
  width:100%;min-height:220px;padding:24px;border:none;
  font-size:18px;line-height:1.9;outline:none;resize:none;background:transparent;color:inherit;
}
#input::placeholder{color:#aaa;}
.tools{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));
  gap:12px;padding:16px;background:#f8f9fa;
}
.dark .tools{background:#252529;}

.btn{
  padding:14px 20px;border-radius:50px;font-weight:600;font-size:15px;
  border:none;cursor:pointer;
}
.btn-primary{background:#722ed1;color:white;}
.btn-gradient{background:linear-gradient(135deg,#ff6b6b,#e13ea5);color:white;}
.btn-success{background:#00c07f;color:white;}
.btn-warn{background:#ff4757;color:white;}

#result{
  padding:28px 24px;font-size:18px;line-height:2;min-height:160px;background:#fafafa;
}
.dark #result{background:#1c1c1e;}
#result:empty::before{
  content:"长按输入框 →【粘贴并清理】";color:#999;
  display:block;text-align:center;padding:60px 0;
}

.counter{text-align:center;padding:20px;font-size:15px;color:#666;}
.dark .counter{color:#aaa;}

#toast{
  position:fixed;bottom:100px;left:50%;transform:translateX(-50%);
  background:rgba(0,0,0,0.8);color:white;padding:14px 36px;border-radius:50px;
  font-size:16px;font-weight:600;z-index:9999;opacity:0;transition:opacity .4s;
}
#toast.show{opacity:1;}

.paste-btn{
  position:fixed;bottom:30px;left:50%;transform:translateX(-50%);
  background:#722ed1;color:white;padding:18px 50px;border-radius:50px;
  font-size:18px;font-weight:700;z-index:9998;
}

.mode-switch{
  position:fixed;top:20px;right:20px;z-index:999;width:60px;height:34px;
  background:rgba(0,0,0,0.2);border-radius:17px;cursor:pointer;
}
.mode-switch::after{
  content:"";position:absolute;top:4px;left:4px;width:26px;height:26px;
  background:white;border-radius:50%;transition:transform .3s;
}
.dark .mode-switch::after{transform:translateX(26px);background:#333;}

footer{text-align:center;padding:30px 0 80px;font-size:13px;color:#999;}
</style>
</head>
<body class="light">

<div class="mode-switch" id="modeSwitch"></div>

<header>
  <div class="logo">文案提取神器</div>
  <div class="subtitle">长按输入框 →【粘贴并清理】</div>
</header>

<div class="container">
  <div class="card">
    <textarea id="input" placeholder="长按这里 →【粘贴并清理】"></textarea>
    <div class="tools">
      <button class="btn btn-primary" id="btn-clean">一键清理并复制</button>
      <button class="btn btn-gradient" id="btn-memo">保存备忘录</button>
      <button class="btn btn-success" id="btn-copy-raw">复制原文</button>
      <button class="btn btn-warn" id="btn-clear">清空</button>
    </div>
  </div>

  <div class="card">
    <div id="result"></div>
    <div class="tools">
      <button class="btn btn-success" id="btn-select">全选结果</button>
      <button class="btn btn-gradient" id="btn-copy-result">复制结果</button>
      <button class="btn btn-primary" id="btn-wechat">转微信风格</button>
      <button class="btn btn-warn" id="btn-xhs">转小红书风格</button>
      <button class="btn btn-success" id="btn-example">随机示例（50+）</button>
    </div>
  </div>

  <div class="counter">
    已清理 <span id="count">0</span> 次 · 节省约 <span id="saved">0</span> 分钟
  </div>
</div>

<div class="paste-btn" id="pasteBtn">点我 → 粘贴并清理</div>
<div id="toast">已复制纯净文案！</div>
<footer>添加到主屏幕 → 用起来更快</footer>

<script>
// 永不翻车核弹级清理函数
function cleanText(t){return t
.replace(/[\u200B-\u206F\uFEFF\u00A0\u1680\u180E\u202F\u205F\u3000\u3164\uFFA0]/g," ")
.replace(/\b\d{1,4}\.\d{1,3}\s+[A-Za-z]{2,8}:?\/?/gi,"")
.replace(/\b\d{1,6}[A-Za-z]{1,8}\b|\b[A-Za-z]{2,12}\d+[A-Za-z]?\b/g,"")
.replace(/\d{2,4}[\/\-\.\年\月\日]\d{1,2}([\/\-\.\月\日]\d{1,2})?/g,"")
.replace(/https?:\/\/[^\s\u4e00-\u9fa5]+|www\.[^\s]+|[a-zA-Z0-9\-_]+\.(com|cn|net|org|top|vip|xyz|ink|live|site|app|tv|me|cc|gg|tk|gq|cf|icu)[^\s]*/gi,"")
.replace(/[抖快手抖音Dou音小红书红书书B站哔哩哔哩微博微视西瓜视频号公号公眾號]/gi,"")
.replace(/#[^#\s\u200B-\u206F\uFEFF]*#|#[^#\s\u200B-\u206F\uFEFF]*|＃[^＃\s\u200B-\u206F\uFEFF]*|\s+#\s*|\s+#|#\s+|#\s*[^#\s]*/g,"")
.replace(/[\u200B-\u206F\uFEFF]*#[^\s]*/g,"")
.replace(/[@＠][^\s@\u200B-\u206F\uFEFF]+/g,"")
.replace(/[“”]/g,'"')
.replace(/复制.?[此这].{0,6}链接?.{0,6}打.?开.?[抖Dou抖音].{0,6}搜.{0,6}直.?接.?观.?看.?！?|复制.?[这这].{0,6}信.?息.?打.?开.?[抖Dou].{0,6}看.?我.?发.?现.?的.?好.?东.?西.?|长.?按.?识.?别.?二.?维.?码.?关.?注.?我|点.?击.?链.?接.?直.?达.?原.?视.?频|来.?源.?[:：].{0,30}|——.{0,30}(抖音|小红书|快手).{0,20}/gi,"")
.replace(/[\u{1F300}-\u{1F9FF}\u{2600}-\u{27BF}\u{1F600}-\u{1F64F}]/gu,"")
.replace(/[═━─—┉┋┃┇╍╎╏┊┆┅┄┈┉╌╱╲╳╭╮╰╯╔╗╚╝│¦║〰~∼∽]{2,}|[~\*\-\=\+\.\•·➕▶▫▪▌▋▎▏◆■▪︎▫︎◼◾◻▫]{4,}/g,"")
.replace(/\s*(人生感悟|人间烟火|人生|正能量|情感共鸣|心灵鸡汤|治愈文案|励志|感悟|金句|语录|文字控|文案|美文|美句|哲理|智慧|生活记录|日常|好物分享|种草|安利|宝藏|神仙文案|神句|绝了|太绝了|太戳了|太扎心了|太真实了|太有共鸣了|太懂了|太会了|太顶了|太香了|太好看了|太好听了|太好吃了|太爽了|太快乐了|太幸福了|太开心了|太棒了|太赞了|太喜欢了|太爱了|早安|晚安|心情|随笔|短句|长文|成长|自律|努力|坚持|清醒|放下|看开|看透|醒悟|成熟|现实|人性|人心|人情世故|情商|格局|认知|财富自由|内卷|内耗|焦虑|抑郁|治愈|释怀|大彻大悟|社会|真相|残酷真相|高情商|高格局|低欲望|极简|断舍离|生活美学|日常打卡|推荐|好物|宝藏文案|宝藏句子|神仙句子|神文)\s*/gi," ")
.replace(/[ \u3000\t\r\v\f]+/g," ").replace(/\n\s*\n+/g,"\n\n")
.replace(/^\s+|\s+$/g,"").replace(/\n{3,}/g,"\n\n").trim();}

const i=document.getElementById("input"),r=document.getElementById("result"),t=document.getElementById("toast"),
c=document.getElementById("count"),s=document.getElementById("saved"),pasteBtn=document.getElementById("pasteBtn");
let n=localStorage.getItem("c")||0,m=localStorage.getItem("t")||0;
c.textContent=n;s.textContent=Math.floor(m/60);

function u(){r.textContent=cleanText(i.value)||""}
function p(msg,time=2200){t.textContent=msg;t.classList.add("show");clearTimeout(t.timer);t.timer=setTimeout(()=>t.classList.remove("show"),time)}
function a(){n++;m+=8;localStorage.setItem("c",n);localStorage.setItem("t",m);c.textContent=n;s.textContent=Math.floor(m/60)}

// iOS 粘贴方案
async function pasteAndClean(){
  try{
    const txt=await navigator.clipboard.readText();
    if(!txt.trim())return p("剪贴板为空");
    i.value=txt.trim();u();
    const clean=r.textContent.trim();
    if(clean&&clean.length>10){
      await navigator.clipboard.writeText(clean);
      p("已复制纯净文案！");
      a();
    }
  }catch{p("请长按输入框 →【粘贴并清理】")}
}
pasteBtn.onclick=pasteAndClean;
document.getElementById("btn-clean").onclick=pasteAndClean;
i.addEventListener("contextmenu",e=>{e.preventDefault();pasteAndClean();});

// 50+ 条真实示例（已全部保留）
const examples=[
  "9.74 kP:/ 03/22 abc.123 “人这一生，最放不下的其实就两个字：钱和情。为了钱起早贪黑，为了情掏心掏肺，到头来钱带不走，情留不下，所以钱够用就好，情用真最好。” #人生感悟 #人间烟火 #正能量 https://v.douyin.com/abc123/ 复制此链接，打开抖音搜索，直接观看视频！",
  "8.12 XY:/ 生活总要有点仪式感，早起一杯温水，晚上十分钟冥想，让每一天都慢下来，温柔而坚定地活。#早安 #生活记录 #自律 https://v.douyin.com/xyz789/",
  "7.89 AB:/ “真正厉害的人，从不内耗，他们把时间留给成长，把情绪留给热爱。” #成长 #清醒 #格局 复制此链接，打开抖音搜索，直接观看！",
  "6.55 CD:/ “别再熬夜了，熬不来的夜，熬不完的人，熬不尽的未来。” #晚安 #治愈 #放下 https://v.douyin.com/123abc/",
  "5.21 EF:/ 慢慢来，比较快。急不得的事，慢慢做；放不下的人，慢慢忘。#正能量 #生活感悟 #人间烟火",
  "4.88 GH:/ “你不需要讨好所有人，就像月亮不会讨好每一只狗。” #清醒 #独立 #女性成长",
  "3.91 IJ:/ 别把最好的自己留给未来，现在的你值得被好好爱。#早安 #励志 #自律",
  "2.67 KL:/ “真正厉害的人，都在偷偷努力。” 别让别人听见你的努力声。#自律 #成长 #努力",
  "1.44 MN:/ 生活不会亏待任何一个努力生活的人。#正能量 #励志 #坚持",
  "9.33 OP:/ “有些事，不是忘了，而是放下了。” #释怀 #放下 #成长",
  "8.77 QR:/ 愿你此生温柔而坚定，清醒而炽热。#早安 #生活记录",
  "7.22 ST:/ “人最大的本事，是把坏日子过成好日子。” #心态 #生活 #人间烟火",
  "6.66 UV:/ 别急，慢慢来，一切都会好的。#治愈 #晚安 #正能量",
  "5.55 WX:/ “真正厉害的人，都在偷偷攒福报。” #善良 #做人 #智慧",
  "4.44 YZ:/ 生活明朗，万物可爱，人间值得。#早安 #生活美学",
  "3.33 AB:/ “你现在吃的所有苦，都会照亮你未来的路。” #努力 #坚持 #成长",
  "2.22 CD:/ 愿你被世界温柔以待，也愿你温柔对待世界。#晚安 #治愈",
  "1.11 EF:/ “别再委屈自己了，你值得更好的。” #清醒 #女性成长 #独立",
  "9.99 GH:/ 好好生活，慢慢相遇，余生慢慢来。#生活记录 #日常 #人间烟火",
  "8.88 IJ:/ “真正的自由，是敢于做自己。” #清醒 #独立 #成长",
  "7.77 KL:/ 别让情绪绑架你的人生。#情商 #情绪管理 #成长",
  "6.66 MN:/ “熬过所有苦，才能成为真正厉害的人。” #努力 #坚持 #励志",
  "5.55 OP:/ 愿你走过千山万水，归来仍是少年。#青春 #成长 #生活",
  "4.44 QR:/ “你现在所做的一切，都是在给未来的自己铺路。” #自律 #努力 #成长",
  "3.33 ST:/ 慢慢来，一切都会有答案。#治愈 #晚安 #正能量",
  "2.22 UV:/ “真正的强大，是敢于面对自己的脆弱。” #成长 #清醒 #女性成长",
  "1.11 WX:/ 生活不会亏待任何一个努力生活的人。#正能量 #励志 #坚持",
  "9.88 YZ:/ “别再熬夜了，熬不来的夜，熬不完的人。” #早睡 #健康 #自律",
  "8.77 AB:/ 愿你此生温柔而坚定，清醒而炽热。#早安 #生活记录",
  "7.66 CD:/ “真正厉害的人，都在偷偷攒福报。” #善良 #做人 #智慧",
  "6.55 EF:/ 好好生活，慢慢相遇，余生慢慢来。#生活记录 #日常 #人间烟火",
  "5.44 GH:/ “你不需要讨好所有人，就像月亮不会讨好每一只狗。” #清醒 #独立 #女性成长",
  "4.33 IJ:/ 别让情绪绑架你的人生。#情商 #情绪管理 #成长",
  "3.22 KL:/ “熬过所有苦，才能成为真正厉害的人。” #努力 #坚持 #励志",
  "2.11 MN:/ 生活明朗，万物可爱，人间值得。#早安 #生活美学",
  "1.99 OP:/ “别再委屈自己了，你值得更好的。” #清醒 #女性成长 #独立",
  "9.77 QR:/ 慢慢来，比较快。急不得的事，慢慢做；放不下的人，慢慢忘。#正能量 #生活感悟",
  "8.66 ST:/ “有些事，不是忘了，而是放下了。” #释怀 #放下 #成长",
  "7.55 UV:/ 愿你被世界温柔以待，也愿你温柔对待世界。#晚安 #治愈",
  "6.44 WX:/ “你现在吃的所有苦，都会照亮你未来的路。” #努力 #坚持 #成长",
  "5.33 YZ:/ 别急，慢慢来，一切都会好的。#治愈 #晚安 #正能量",
  "4.22 AB:/ “真正厉害的人，从不内耗。” #清醒 #成长 #格局",
  "3.11 CD:/ 好好生活，慢慢相遇，余生慢慢来。#生活记录 #日常 #人间烟火",
  "2.99 EF:/ “真正的自由，是敢于做自己。” #清醒 #独立 #成长",
  "1.88 GH:/ 愿你此生温柔而坚定，清醒而炽热。#早安 #生活记录",
  "9.66 IJ:/ “别再熬夜了，熬不来的夜，熬不完的人。” #早睡 #健康 #自律",
  "8.55 KL:/ 生活不会亏待任何一个努力生活的人。#正能量 #励志 #坚持",
  "7.44 MN:/ “你现在所做的一切，都是在给未来的自己铺路。” #自律 #努力 #成长",
  "6.33 OP:/ 慢慢来，一切都会有答案。#治愈 #晚安 #正能量",
  "5.22 QR:/ “真正的强大，是敢于面对自己的脆弱。” #成长 #清醒 #女性成长",
  "4.11 ST:/ 愿你走过千山万水，归来仍是少年。#青春 #成长 #生活",
  "3.99 UV:/ “别让情绪绑架你的人生。” #情商 #情绪管理 #成长"
];

document.getElementById("btn-example").onclick=()=>{
  const ex=examples[Math.floor(Math.random()*examples.length)];
  i.value=ex;u();p(`已加载随机示例（共${examples.length}条）`);
};

// 其他功能
document.getElementById("btn-wechat").onclick=()=>{let x=r.textContent.trim();if(!x)return p("请先清理");x=x.replace(/^/gm,"　　").replace(/\n/g,"\n\n")+"\n——\n"+["愿你此生温柔而坚定","慢慢来，比较快","生活明朗，万物可爱","我们终会上岸，阳光万里"][Math.random()*4|0];r.textContent=x;p("已转为微信朋友圈风格");};
document.getElementById("btn-xhs").onclick=()=>{let x=r.textContent.trim();if(!x)return p("请先清理");x=" "+x+"\n\n"+["这也太治愈了吧～","救命！这也太懂我了吧！","突然get到了生活的意义","原来生活可以这么美好啊"][Math.random()*4|0]+"\n——\n分享自@文案提取神器";r.textContent=x;p("已转为小红书爆款风格");};
document.getElementById("btn-select").onclick=()=>{if(!r.textContent)return p("无内容");const rg=document.createRange();rg.selectNodeContents(r);const sel=window.getSelection();sel.removeAllRanges();sel.addRange(rg);p("已全选");};
document.getElementById("btn-copy-result").onclick=()=>{const x=r.textContent.trim();x?navigator.clipboard.writeText(x).then(()=>p("结果已复制")):p("结果为空");};
document.getElementById("btn-copy-raw").onclick=()=>{i.value.trim()?navigator.clipboard.writeText(i.value).then(()=>p("已复制原文")):p("原文为空");};
document.getElementById("btn-clear").onclick=()=>{i.value=r.textContent="";p("已清空");};
document.getElementById("btn-memo").onclick=()=>{const x=r.textContent.trim();if(!x)return p("请先清理");navigator.share?navigator.share({title:"干净文案",text:x}):navigator.clipboard.writeText(x).then(()=>p("已复制，去备忘录粘贴"));};

// 暗黑模式
document.getElementById("modeSwitch").onclick=()=>{document.body.classList.toggle("dark");document.body.classList.toggle("light");localStorage.setItem("dark",document.body.classList.contains("dark")?"1":"0");};
if(localStorage.getItem("dark")==="1")document.body.classList.replace("light","dark");

i.addEventListener("input",()=>{u();i.style.height="auto";i.style.height=i.scrollHeight+"px";});
</script>
</body>
</html>